#!/bin/bash

# After checking out the changes from the master-dev branch, all links are
# still local and relative.
# These sed commands take care of that problem and save the hassle of manually
# replacing the local links with absolute/remote ones

# Work on master-dev branch, commit all changes and then change to master.
# Checkout the files from master-dev and run this script

# sed replacement for the English version
sed -i -e \
's/href="stylesheet.css"/href="http:\/\/christianheinrichs.github.io\/stylesheet.css"/g' -e \
's/href="favicon.png"/href="http:\/\/christianheinrichs.github.io\/favicon.png"/g' -e \
's/a href="de\/index.html"/a href="http:\/\/christianheinrichs.github.io\/de\/index.html"/g' -e \
's/a href="index.html"/a href="http:\/\/christianheinrichs.github.io\/index.html"/g' -e \
's/a href="articles.html"/a href="http:\/\/christianheinrichs.github.io\/articles.html"/g' -e \
's/a href="projects.html"/a href="http:\/\/christianheinrichs.github.io\/projects.html"/g' -e \
's/a href="accounts.html"/a href="http:\/\/christianheinrichs.github.io\/accounts.html"/g' -e \
's/a href="contact.html"/a href="http:\/\/christianheinrichs.github.io\/contact.html"/g' -e \
's/a href="about.html"/a href="http:\/\/christianheinrichs.github.io\/about.html"/g' \
$(ls -d ~/Desktop/gitstuff/christianheinrichs.github.io/* | grep .html)

# sed replacement for the English articles
sed -i -e \
's/href="..\/stylesheet.css"/href="http:\/\/christianheinrichs.github.io\/stylesheet.css"/g' -e \
's/href="..\/favicon.png"/href="http:\/\/christianheinrichs.github.io\/favicon.png"/g' -e \
's/a href="..\/de\/index.html"/a href="http:\/\/christianheinrichs.github.io\/de\/index.html"/g' -e \
's/a href="..\/index.html"/a href="http:\/\/christianheinrichs.github.io\/index.html"/g' -e \
's/a href="..\/articles.html"/a href="http:\/\/christianheinrichs.github.io\/articles.html"/g' -e \
's/a href="..\/projects.html"/a href="http:\/\/christianheinrichs.github.io\/projects.html"/g' -e \
's/a href="..\/accounts.html"/a href="http:\/\/christianheinrichs.github.io\/accounts.html"/g' -e \
's/a href="..\/contact.html"/a href="http:\/\/christianheinrichs.github.io\/contact.html"/g' -e \
's/a href="..\/about.html"/a href="http:\/\/christianheinrichs.github.io\/about.html"/g' \
$(ls -d ~/Desktop/gitstuff/christianheinrichs.github.io/articles/* | grep .html)

# sed replacement for the German version
sed -i -e \
's/href="..\/stylesheet.css"/href="http:\/\/christianheinrichs.github.io\/stylesheet.css"/g' -e \
's/href="..\/favicon.png"/href="http:\/\/christianheinrichs.github.io\/favicon.png"/g' -e \
's/a href="index.html"/a href="http:\/\/christianheinrichs.github.io\/de\/index.html"/g' -e \
's/a href="..\/index.html"/a href="http:\/\/christianheinrichs.github.io\/index.html"/g' -e \
's/a href="artikel.html"/a href="http:\/\/christianheinrichs.github.io\/de\/artikel.html"/g' -e \
's/a href="projekte.html"/a href="http:\/\/christianheinrichs.github.io\/de\/projekte.html"/g' -e \
's/a href="accounts.html"/a href="http:\/\/christianheinrichs.github.io\/de\/accounts.html"/g' -e \
's/a href="kontakt.html"/a href="http:\/\/christianheinrichs.github.io\/de\/kontakt.html"/g' -e \
's/a href="about.html"/a href="http:\/\/christianheinrichs.github.io\/de\/about.html"/g' \
$(ls -d ~/Desktop/gitstuff/christianheinrichs.github.io/de/* | grep .html)

# sed replacement for the German articles
sed -i -e \
's/href="..\/..\/stylesheet.css"/href="http:\/\/christianheinrichs.github.io\/stylesheet.css"/g' -e \
's/href="..\/..\/favicon.png"/href="http:\/\/christianheinrichs.github.io\/favicon.png"/g' -e \
's/a href="..\/index.html"/a href="http:\/\/christianheinrichs.github.io\/de\/index.html"/g' -e \
's/a href="..\/..\/index.html"/a href="http:\/\/christianheinrichs.github.io\/index.html"/g' -e \
's/a href="..\/artikel.html"/a href="http:\/\/christianheinrichs.github.io\/de\/artikel.html"/g' -e \
's/a href="..\/projekte.html"/a href="http:\/\/christianheinrichs.github.io\/de\/projekte.html"/g' -e \
's/a href="..\/accounts.html"/a href="http:\/\/christianheinrichs.github.io\/de\/accounts.html"/g' -e \
's/a href="..\/kontakt.html"/a href="http:\/\/christianheinrichs.github.io\/de\/kontakt.html"/g' -e \
's/a href="..\/about.html"/a href="http:\/\/christianheinrichs.github.io\/de\/about.html"/g' \
$(ls -d ~/Desktop/gitstuff/christianheinrichs.github.io/de/artikel/* | grep .html)
